<div class="container">
  <mat-card class="main-card">
      <mat-card-header>
        <mat-card-title>JS Concurrency Exercise</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="question-title">
          <p>Given an array of URLs and a MAX_CONCURRENCY integer, implement a function with the following conditions:</p>
          
          <ul>
              <li>The function should asynchronously fetch each URL.</li>
              <li>It should not request more than MAX_CONCURRENCY URLs at the same time.</li>
              <li>The URLs should be fetched as soon as possible.</li>
              <li>The function should return an array of responses for each URL.</li>
          </ul>  
        </div>
      

          <form [formGroup]="form" (ngSubmit)="loadImages()" class="form-container">
              <mat-form-field appearance="fill" class="mat-form-field">
                  <mat-label>Max Concurrency</mat-label>
                  <input matInput type="number" placeholder="Placeholder" formControlName="maxConcurrency">
                  <mat-hint>Hint</mat-hint>
              </mat-form-field>
                
              <div class="div-button">
                <button type="submit" mat-raised-button color="primary">
                  Load Images
                </button>

                <button type="button" class="reset-button" (click)="resetJsConcurrencyState()" mat-raised-button color="warning">
                  Reset
                </button>
              </div>
          </form>

          <mat-grid-list cols="3" rowHeight="1:1" gutterSize="10px">
              <mat-grid-tile *ngFor="let image of images()">
                <img [src]="image.url" />
              </mat-grid-tile>
          </mat-grid-list>
      </mat-card-content>
  </mat-card>      
</div>
